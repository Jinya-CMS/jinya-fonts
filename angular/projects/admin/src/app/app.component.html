@if (authService.isAuthenticated) {
  <main class="cosmo-page">
    <div class="cosmo-menu is--top">
      <div class="cosmo-menu__row"></div>
      <div class="cosmo-profile-picture"></div>
      <a href="#" (click)="authService.logout()" class="cosmo-menu__item is--right" i18n="@@logout">Logout</a>
    </div>
    <div class="cosmo-menu">
      <button
        aria-label="Back"
        class="cosmo-back-button"
        (click)="location.back()"
        type="button"
        i18n-aria-label="@@back"
      ></button>
      <nav class="cosmo-menu__collection">
        <div class="cosmo-menu__row is--main">
          <a
            class="cosmo-menu__item"
            routerLink="/font"
            routerLinkActive="is--active"
            [routerLinkActiveOptions]="{ exact: false }"
            #fontMain="routerLinkActive"
            i18n="@@fonts"
          >
            Fonts
          </a>
          <a
            class="cosmo-menu__item"
            routerLink="/config"
            routerLinkActive="is--active"
            [routerLinkActiveOptions]="{ exact: false }"
            #configMain="routerLinkActive"
            i18n="@@configuration"
          >
            Configuration
          </a>
        </div>
        @if (fontMain.isActive) {
          <div class="cosmo-menu__row is--sub">
            <a
              class="cosmo-menu__item"
              routerLink="/font"
              [class.is--active]="!router.url.includes('detail')"
              i18n="@@overview"
            >
              Overview
            </a>
            <span class="cosmo-menu__item" [class.is--active]="router.url.includes('detail')" i18n="@@details">
              Details
            </span>
          </div>
        } @else if (configMain.isActive) {
          <div class="cosmo-menu__row is--sub">
            <a
              class="cosmo-menu__item"
              routerLink="/config/settings"
              [class.is--active]="router.url.includes('settings')"
              i18n="@@settings"
            >
              Settings
            </a>
            <a
              class="cosmo-menu__item"
              routerLink="/config/status"
              [class.is--active]="router.url.includes('status')"
              i18n="@@status"
            >
              Status
            </a>
          </div>
        }
      </nav>
    </div>
    <div class="cosmo-page__body">
      <router-outlet />
    </div>
    @if (googleFontsSyncing || googleFontsSyncSuccess || googleFontsSyncFailure) {
      <div class="cosmo-bottom-bar">
        <span class="cosmo-progress-bar__label">
          @if (googleFontsSyncing) {
            <ng-container i18n="@@synchronizing-google-fonts">Google Fonts are synchronizing</ng-container>
          } @else if (googleFontsSyncSuccess) {
            <ng-container i18n="@@synchronization-success">Synchronization enabled</ng-container>
          } @else if (googleFontsSyncFailure) {
            <ng-container i18n="@@synchronization-error">Error during synchronization</ng-container>
          }
        </span>
        @if (googleFontsSyncing) {
          <progress class="cosmo-progress-bar"></progress>
        } @else {
          <progress
            class="cosmo-progress-bar"
            [class.is--negative]="googleFontsSyncFailure"
            [class.is--positive]="googleFontsSyncSuccess"
            value="1"
            max="1"
          ></progress>
        }
      </div>
    }
  </main>
} @else {
  <router-outlet />
}
